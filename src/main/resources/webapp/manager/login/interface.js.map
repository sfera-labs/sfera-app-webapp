{"version":3,"sources":["skins/default/default.js","components/button/button.js","components/input/input.js","components/image/image.js","components/page/page.js","components/label/label.js","components/interface/interface.js","custom.js"],"names":["Sfera","Skins","Default","this","VERSION","styles","Input","Button","Checkbox","Radio","colors","Components","create","presets","attributes","label","update","co","component","subComponents","setAttribute","value","elements","style","display","icon","type","default","fontSize","onClick","onDown","onMove","init","Utils","getComponentElements","element","button","UI","container","ondown","bind","onup","onUp","onmove","updateClass","col","getAttribute","sty","d","setClassName","f","Custom","exec","id","extends","values","redraw","height","field","focus","eraseButton","erase","changeDelay","keyRegex","valueRegex","compile","Compiler","compileAttributeValue","source","fontColor","color","maxLength","onKeyUp","onChange","onEnterKey","onFocus","onBlur","self","changeTimeout","onclick","onErase","blur","onfocus","onblur","onselectstart","phText","fieldC","innerHTML","childNodes","Device","android","oninput","onUserChange","onSelectStart","controller","cl","focused","className","onChangedTimeout","onChanged","v","clearChangeTimeout","setTimeout","clearTimeout","event","onKeyDown","code","keyCode","c","getKeyFromCode","client","focusNext","shiftKey","onKeyPress","fieldE","getSelectedText","text","selectionStart","selectionEnd","substr","window","getSelection","toString","document","selection","createRange","length","ctrlKey","metaKey","test","String","fromCharCode","setFocused","clearFocused","onShow","onHide","e","indexOf","req","Net","Request","onLoaded","xml","getResponseXML","svg","getElementsByTagName","appendChild","width","open","title","visible","skin","capitalize","zoom","bodyE","browser","msTransform","msTransformOrigin","OTransform","MozTransform","WebkitTransformOrigin","transformOrigin","root","onReady","onEvent","onPage","name","page","showPage","callback","sendEvent","command","sendCommand","logout","Login","login","username","password","result","eval","SyntaxError","alert","message"],"mappings":"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","sourcesContent":["/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2015 SferaLabs\n * @license      {@link https://github.com/sfera-labs/sfera-webapp/license.txt|MIT License}\n * Default.js\n */\n\n/**\n * Sfera.Skins.Default contains and handles skins\n *\n * @class Sfera.Skins.Default\n * @constructor\n */\nSfera.Skins.Default = function() {\n\n    this.VERSION = \"1.0\";\n\n    this.styles = {\n        Input: [\"default\", \"clear\"],\n        Button: [\"default\", \"clear\", \"icon\"],\n        Checkbox: [\"default\", \"radio\", \"switch\", \"clear\"],\n        Radio: [\"default\"],\n    };\n\n    this.colors = {\n        Button: [\n            \"default\",\n            \"light\",\n            \"stable\",\n            \"positive\",\n            \"calm\",\n            \"balanced\",\n            \"energized\",\n            \"assertive\",\n            \"royal\",\n            \"dark\"\n        ]\n    }\n\n};\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\n/**\n * Button component.\n *\n * @class Sfera.Components.Button\n * @constructor\n */\nSfera.Components.create(\"Button\", {\n    presets: [\"Visibility\", \"Position\", \"Size\", \"Style\", \"Color\", \"Enable\"],\n\n    attributes: {\n        label: {\n            update: function() {\n                var co = this.component;\n                var label = co.subComponents.label;\n                label.setAttribute(\"label\", this.value);\n                if (this.value) {\n                    co.elements.label.style.display = \"\";\n                    //label.setAttribute(\"visible\",true);\n                } else {\n                    co.elements.label.style.display = \"none\";\n                    //label.setAttribute(\"visible\",false);\n                }\n                //this.component.element.innerHTML = \"<div class='inner'>\" + this.value + \"</div>\";\n            },\n        },\n\n        icon: {\n            type: \"string\",\n            default: \"\",\n            update: function() {\n                var co = this.component;\n                var icon = co.subComponents.icon;\n                icon.setAttribute(\"source\", this.value);\n                if (this.value) {\n                    co.elements.icon.style.display = \"\";\n                    //icon.setAttribute(\"visible\",true);\n                } else {\n                    co.elements.icon.style.display = \"none\";\n                    //icon.setAttribute(\"visible\",false);\n                }\n            },\n        },\n\n        fontSize: {\n            update: function() {\n                var co = this.component;\n                var label = co.subComponents.label;\n                label.setAttribute(\"fontSize\", this.value);\n            },\n        },\n\n        onClick: {\n            type: \"js\",\n        },\n\n        onDown: {\n            type: \"js\",\n        },\n\n        onMove: {\n            type:\"js\",\n        }\n\n    },\n\n    init: function() {\n\n        // fill elements with all nodes that have a name\n        this.elements = Sfera.Utils.getComponentElements(this.element, true, this.elements);\n\n        this.button = new Sfera.UI.Button(this.elements.container, {\n            ondown: this.onDown.bind(this),\n            onup: this.onUp.bind(this),\n            onmove: this.onMove.bind(this)\n        });\n\n        this.updateClass();\n\n        //this.element.onclick = this.onClick.bind(this);\n    },\n\n    updateClass: function() {\n        var col = this.getAttribute(\"color\") || \"default\";\n        var sty = this.getAttribute(\"style\") || \"default\";\n        var d = (this.getAttribute(\"enabled\") ? \"\" : \" disabled\")\n        this.button.setClassName(\"container\" + (sty?\" style_\"+sty:\"\") + (col?\" color_\"+col:\"\")) + d;\n    },\n\n    onDown: function() {\n        var f = this.getAttribute(\"onDown\");\n        Sfera.Custom.exec(f, this.id);\n    },\n\n    onMove: function() {\n        var f = this.getAttribute(\"onMove\");\n        Sfera.Custom.exec(f, this.id);\n    },\n\n    onUp: function() {\n        var f = this.getAttribute(\"onClick\");\n        Sfera.Custom.exec(f, this.id);\n    }\n\n\n});\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\n/**\n * Input component.\n *\n * @class Sfera.Components.Input\n * @extends Sfera.Components._Field\n * @property {string} type - type of the field\n * @property {string} icon - url of an icon\n */\nSfera.Components.create(\"Input\", {\n    extends: \"_Field\",\n\n    attributes: {\n        type: {\n            type: \"string\",\n            default: \"input\",\n            values: [\"input\",\"textarea\",\"color\",\"date\",\"datetime\",\"email\",\"number\",\"password\",\"tel\",\"time\",\"url\"],\n            update: function() {\n                this.component.redraw();\n            }\n        },\n\n        height: {\n            update: function() {\n                if (this.component.elements.field)\n                    this.component.elements.field.style.height = this.value + \"px\";\n            }\n        },\n\n        focus: {\n            type: \"boolean\",\n            update: function() {\n                if (this.value)\n                    this.component.focus();\n            }\n        },\n\n        icon: {\n            type: \"string\",\n            default: \"\",\n            update: function() {\n                var co = this.component;\n                var icon = co.subComponents.icon;\n                icon.setAttribute(\"source\", this.value);\n                if (this.value) {\n                    co.elements.icon.style.display = \"\";\n                    //icon.setAttribute(\"visible\",true);\n                } else {\n                    co.elements.icon.style.display = \"none\";\n                    //icon.setAttribute(\"visible\",false);\n                }\n            }\n        },\n\n        eraseButton: {\n            type: \"boolean\",\n            default: \"false\",\n            update: function() {\n                var co = this.component;\n                co.elements.erase.style.display = this.value ? \"\" : \"none\";\n            }\n        },\n\n        value: {\n            update: function() {\n                if (this.component.elements.field)\n                    this.component.elements.field.value = this.value;\n            }\n        },\n\n        changeDelay: {\n            type: \"integer\",\n            default: \"1000\" // msec to wait before noticing a change\n        },\n\n        // regular expression used to validate keydown\n        keyRegex: {\n            type: \"regexp\"\n        },\n\n        // regular expression used to validate value before submitting\n        valueRegex: {\n            type: \"regexp\",\n\n            compile: function() {\n                this.value = Sfera.Compiler.compileAttributeValue(this, \"^(\" + this.source + \")$\"); // add begin and end, it has to match the whole string\n                // do nothing else, since there's no update needed\n            }\n        },\n\n        fontSize: {\n            type: \"integer\",\n\n            update: function() {\n                if (this.component.elements.field)\n                    this.component.elements.field.style.fontSize = this.value + \"px\";\n                //this.component.subComponents.erase.setAttribute(\"width\")\n            }\n        },\n\n        fontColor: {\n            update: function() {\n                if (this.component.elements.field)\n                    this.component.elements.field.style.color = this.value;\n            }\n        },\n\n        maxLength: {\n            type: \"integer\"\n        },\n\n        onKeyUp: {\n            type: \"js\"\n        },\n        onChange: {\n            type: \"js\",\n            default: \"event(id,value)\"\n        },\n        onEnterKey: {\n            type: \"js\"\n        },\n        onFocus: {\n            type: \"js\"\n        },\n        onBlur: {\n            type: \"js\"\n        }\n    },\n\n    init: function() {\n        var self = this;\n\n        this.value = \"\"; // TODO: used?\n        this.changeTimeout = null;\n\n        // fill elements with all nodes that have a name\n        this.elements = Sfera.Utils.getComponentElements(this.element, true, this.elements);\n\n        this.eraseButton = new Sfera.UI.Button(this.elements.erase, {\n            onclick: this.onErase.bind(this)\n        });\n\n        /*\n        switch (this.getAttribute(\"type\")) {\n            case \"date\":\n                this.btObj = new Sfera.UI.Button(this.element, {\n                    onclick: this.onClick.bind(this)\n                });\n        }\n        */\n    },\n\n    focus: function() {\n        this.elements.field.focus(); // will fire onFocus\n    },\n\n    blur: function() {\n        this.elements.field.blur(); // will fire onBlur\n    },\n\n    // redraw\n    redraw: function() {\n        var value = \"\";\n\n        if (this.elements.field) {\n            this.elements.field.onfocus = null;\n            this.elements.field.onblur = null;\n            this.elements.field.onselectstart = null;\n            value = this.elements.field.value;\n            this.elements.field = null;\n        }\n        var type = this.getAttribute(\"type\");\n        var phText = this.getAttribute(\"placeHolder\");\n        phText = phText ? ' placeholder=\"' + phText + '\"' : '';\n        var style = \"\"; // TODO: styling the field\n        style = style ? ' style=\"' + style + '\"' : '';\n\n        var d = this.getAttribute(\"enabled\")?\"\":\" disabled\";\n        if (type == \"textarea\")\n            this.elements.fieldC.innerHTML = '<textarea class=\"field\" ' + style + phText + d + ' /></textarea>';\n        else\n            this.elements.fieldC.innerHTML = '<input class=\"field\" type=\"' + type + '\"' + style + phText + d + ' autocorrect=\"off\" autocapitalize=\"off\" />';\n\n        this.elements.field = this.elements.fieldC.childNodes[0];\n        this.elements.field.value = value;\n        this.attributes.height.update();\n\n        if (Sfera.Device.android == \"Android\") { // android: gets last click on a different page if in same position\n            this.elements.field.onfocus = function() {\n                return false;\n            };\n            this.elements.field.oninput = this.onUserChange;\n        } else {\n            this.elements.field.onfocus = this.onFocus; // skip this.elements.field.focus to avoid loop\n        }\n        this.elements.field.onblur = this.onBlur;\n        this.elements.field.onselectstart = this.onSelectStart;\n\n        this.elements.field.controller = this;\n    },\n\n    updateClass: function () {\n        var cl = this.getAttribute(\"cssClass\");\n        var f = (this.focused?\" focused\":\"\");\n        var d = this.getAttribute(\"enabled\") ? \"\" : \" disabled\";\n        this.element.className = \"component comp_input\" + (cl?\" \"+cl:\"\") + f + d;\n        var sty = this.getAttribute(\"style\");\n        this.elements.container.className = \"container\" + (sty?\" style_\"+sty:\"\")\n\n        if (this.elements.field) {\n            this.elements.field[(d?\"set\":\"remove\") + \"Attribute\"](\"disabled\");\n        }\n    },\n\n    //\n    // events\n    //\n\n    // on erase button\n    onErase: function() {\n        if (!this.getAttribute(\"enabled\"))\n            return;\n\n        this.setAttribute(\"value\", \"\");\n        this.onChangedTimeout();\n    },\n\n    onChanged: function() {\n        var v = this.elements.field.value;\n\n        if (v != this.attributes.value.source) {\n            this.attributes.value.source =\n                this.attributes.value.value = v;\n\n            this.clearChangeTimeout();\n            //if (foo.autoSend || foo.onUserChange) { // otherwise there's nothing to do\n\n            var changeDelay = this.getAttribute(\"changeDelay\");\n            var self = this;\n            if (changeDelay) // if 0, disabled\n                this.changeTimeout = setTimeout(function() {\n                self.onChangedTimeout()\n            }, changeDelay);\n        }\n    },\n\n    clearChangeTimeout: function() {\n        if (this.changeTimeout) {\n            clearTimeout(this.changeTimeout);\n            this.changeTimeout = null; // make sure?\n        }\n    },\n\n    // on changed after timeout\n    onChangedTimeout: function() {\n        this.clearChangeTimeout();\n\n        // custom change event\n        var f = this.getAttribute(\"onChange\");\n        var value = this.getAttribute(\"value\");\n        Sfera.Custom.exec(f, this.id, value);\n    },\n\n    onSelectStart: function(event) {\n\n    },\n\n    onKeyDown: function(event) {\n        if (!this.getAttribute(\"enabled\"))\n            return;\n\n        //this.controller.setAttribute(\"error\", \"false\"); // make sure we're not showing an error\n        var code = event.keyCode;\n        var c = Sfera.Utils.getKeyFromCode(code);\n        var type = this.getAttribute(\"type\");\n\n        // trigger on enter event\n        if (c == \"enter\" && !this.onEnterKey()) {\n            c = \"\"; // onEnterKey prevented, don't focus next\n        }\n\n        if ((c == \"enter\" && type != \"textarea\") || c == \"tab\") {\n            this.onChangedTimeout(); // send now\n\n            Sfera.client.focusNext(event.shiftKey);\n            if (c == \"enter\" && type != \"textarea\")\n                this.blur(); // still focused? (no next object)\n\n            return false; // done, prevent\n        } else {\n            this.onChanged();\n\n            return true; // allow\n        }\n    },\n\n    onKeyPress: function(event) {\n        if (!this.getAttribute(\"enabled\"))\n            return;\n\n        var code = event.keyCode;\n        var c = Sfera.Utils.getKeyFromCode(code);\n        var fieldE = this.elements.field;\n        var value = this.getAttribute(\"value\");\n        var keyRegex = this.getAttribute(\"keyRegex\");\n        var maxLength = this.getAttribute(\"maxLength\");\n\n        function getSelectedText() {\n            var text = \"\";\n            if (fieldE.selectionStart != fieldE.selectionEnd) {\n                text = value.substr(fieldE.selectionStart, fieldE.selectionEnd);\n            } else if (typeof window.getSelection != \"undefined\") {\n                text = window.getSelection().toString();\n            } else if (typeof document.selection != \"undefined\" && document.selection.type == \"Text\") {\n                text = document.selection.createRange().text;\n            }\n            return text;\n        }\n\n        // only if no special key\n        if (c.length == 1) {\n            // check max length\n            if (value && maxLength && value.length >= maxLength && !getSelectedText()) {\n                return false; // prevent\n            }\n\n            // validate? only if ctrl or meta are not pressed\n            if (keyRegex && !event.ctrlKey && !event.metaKey && !keyRegex.test(String.fromCharCode(code))) {\n                return false; // key validation failed: prevent\n            }\n        }\n\n        this.onChanged();\n        return true; // allow\n    },\n\n    onKeyUp: function(event) {\n        if (!this.getAttribute(\"enabled\"))\n            return;\n\n        var code = event.keyCode;\n        var c = Sfera.Utils.getKeyFromCode(code);\n\n        if (c != \"enter\" && c !== \"tab\") {\n            this.onChanged();\n            return false; // nothing to see here: prevent\n        }\n\n        return true;\n    },\n\n    onChange: function() {\n        this.onChanged();\n        /*\n        var f = this.getAttribute(\"onClick\");\n        Sfera.Custom.exec(f);\n        */\n    },\n\n    onEnterKey: function () {\n        if (!this.getAttribute(\"enabled\"))\n            return;\n\n        var f = this.getAttribute(\"onEnterKey\");\n        if (f) {\n            return Sfera.Custom.exec(f);\n        } else {\n            return true; // don't block it\n        }\n    },\n\n    onFocus: function() {\n        var co = this.controller;\n        Sfera.client.setFocused(co);\n        co.focused = true;\n        co.updateClass();\n    },\n\n    onBlur: function() {\n        var co = this.controller;\n        co.onChanged();\n        Sfera.client.clearFocused(co);\n        co.focused = false;\n        co.updateClass();\n    },\n\n    onShow: function() {\n        if (this.getAttribute(\"focus\"))\n            this.focus();\n    },\n\n    onHide: function() {\n\n    }\n\n});\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\n/**\n * Image component.\n *\n * @class Sfera.Components.Image\n * @mixes Sfera.Behaviors.Visibility\n * @mixes Sfera.Behaviors.Position\n * @property {string} source - source url of the image\n */\nSfera.Components.create(\"Image\", {\n    presets: [\"Visibility\", \"Position\", \"Size\"],\n\n    attributes: {\n        source: {\n            type: \"string\",\n            update: function() {\n                var c = this.component;\n                var e = c.element;\n                // no source, hide it\n                if (!this.value) {\n                    e.innerHTML = \"\";\n                }\n                // svg\n                else if (this.value.indexOf(\".svg\") == this.value.length - 4) {\n                    var req = new Sfera.Net.Request();\n                    req.init();\n                    req.onLoaded = function() {\n                        var xml = req.getResponseXML();\n                        var svg = xml.getElementsByTagName(\"svg\")[0];\n                        e.innerHTML = \"\";\n                        if (svg) {\n                            e.appendChild(svg);\n                            svg.style.width = c.getAttribute(\"width\");\n                            svg.style.height = c.getAttribute(\"height\");\n                        }\n                        // done\n                        delete req;\n                    }\n                    req.open(this.value);\n                }\n                // normal img\n                else {\n                    e.innerHTML = \"<img src='\" + this.value + \"' width='100%' height='100%'>\";\n                }\n            }\n        }\n    },\n\n    init: function() {}\n\n});\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2015 SferaLabs\n * @license      {@link https://github.com/sfera-labs/sfera-webapp/license.txt|MIT License}\n * Page.js\n */\n\n/**\n * Page component.\n *\n * @class Sfera.Components.Page\n * @constructor\n */\n Sfera.Components.create(\"Page\",{\n     presets:[\"Visibility\"],\n\n     attributes: {\n         title: {\n             type:\"string\",\n         },\n\n         visible: {\n             default:\"false\"\n         }\n     },\n\n     init: function(){\n     }\n });\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\n/**\n * Label component.\n *\n * @class Sfera.Components.Label\n * @constructor\n */\nSfera.Components.create(\"Label\", {\n    presets: [\"Visibility\", \"Position\", \"Size\", \"Label\"],\n\n    attributes: {\n        // change label to text\n        label: null,\n\n        text: {\n            type: \"string\",\n            update: function() {\n                this.component.element.innerHTML = this.value;\n            }\n        }\n    }\n});\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\n/**\n * Interface component.\n *\n * @class Sfera.Components.Interface\n * @constructor\n */\n Sfera.Components.create(\"Interface\",{\n     presets:[\"Visibility\",\"Size\"],\n\n     attributes: {\n         title: {\n             type:\"string\",\n         },\n\n         skin: {\n            default:\"default\",\n            update: function () {\n                Sfera.client.skin = new Sfera.Skins[Sfera.Utils.capitalize(this.value)]();\n            }\n         },\n\n         zoom: {\n             type:\"float\",\n             update: function () {\n         \t\tif (this.value != 1) {\n         \t\t\tvar bodyE = document.getElementsByTagName(\"BODY\")[0];\n         \t\t\tvar v = \"scale(\"+this.value+\",\"+this.value+\")\";\n         \t\t\tif (Sfera.Device.browser == \"IE\") {\n         \t\t\t\tbodyE.style.msTransform = v;\n         \t\t\t\tbodyE.style.msTransformOrigin = \"0% 0%\";\n         \t\t\t} else {\n         \t\t\t\tbodyE.style.zoom = (this.value*100)+\"%\";\n         \t\t\t\tbodyE.style.OTransform = v;\n         \t\t\t\tbodyE.style.MozTransform = v;\n         \t\t\t\tbodyE.style.WebkitTransformOrigin = \"0 0\";\n         \t\t\t\tbodyE.style.transformOrigin = \"0% 0%\";\n         \t\t\t}\n         \t\t\t// prevent artifacts\n         \t\t\tbodyE.style.width = \"0px\";\n         \t\t\tbodyE.style.height = \"0px\";\n         \t\t}\n\n             }\n         }\n     }\n });\n","/**\n * @author       Gionatan Iasio <gionatan@sferalabs.cc>\n * @copyright    2016 SferaLabs\n * @license      {@link http://sfera.sferalabs.cc/docs/sfera/license.html|LGPL License}\n */\n\nSfera.Custom = new (function(){\n\n    var root = this;\n\n    // bridge functions\n    this.onReady = (typeof(onReady) === 'function') ? function () {onReady();} : null;\n    this.onEvent = (typeof(onEvent) === 'function') ? function (id, value) {return onEvent(id, value);} : null;\n    this.onPage = (typeof(onPage) === 'function') ? function (name) {return onPage(id);} : null;\n\n    // context functions\n    function page(id) {\n        Sfera.client.showPage(id);\n    }\n\n    function event(id, value, callback) {\n        Sfera.client.sendEvent(id, value, callback);\n    }\n\n    function command(command, callback)  {\n        Sfera.client.sendCommand(command, callback);\n    }\n\n    function logout() {\n        Sfera.Login.logout();\n    }\n\n    function login(username, password) {\n        Sfera.Login.login(username, password);\n    }\n\n    function setAttribute(id, name, value) {\n        Sfera.client.setAttribute(id, name, value);\n    }\n\n    // exec custom code. optional: id of the component calling, value to be sent\n    this.exec = function (f, id, value) {\n        // eval button js\n        try {\n            var result = eval(f);\n        } catch (e) {\n            if (e instanceof SyntaxError) {\n                alert(e.message);\n            } else {\n                throw (e);\n            }\n        }\n        return (result === false ? false : true); // return false (block event?) only if eval results in false\n    };\n\n})();\n"]}