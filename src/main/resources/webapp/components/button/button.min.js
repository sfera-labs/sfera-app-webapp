/*! sfera-webapp - v0.0.2 */

Sfera.Doc.add.component("Button",{doc:{descr:"A button componentz used to execute customized JavaScript code.\nIts appearance is defined by a style attribute. The [onClick](#onClick) attribute is used to associate an action to execute when the button is pressed."},attr:{label:{descr:"Specifies the label's text"},icon:{descr:"Specifies the url of the icon, if any"},fontSize:{descr:"Specifies the label's font size"},onClick:{descr:"Script to be run on click/touch end event. The variable _id_ contains the button's id.",example:{descr:"Clicking the button will open an alert popup.",values:{x:10,y:10,onClick:"alert('hello')"}}},onDown:{descr:"Script to be run on down/touch start event"},onMove:{descr:"Script to be run on mouse/touch move event"}}}),Sfera.Components.create("Button",{presets:["Visibility","Position","Size","Style","Color","Enable"],attributes:{label:{update:function(){var a=this.component,b=a.subComponents.label;b.setAttribute("label",this.value),this.value?a.elements.label.style.display="":a.elements.label.style.display="none"}},icon:{type:"string","default":"",update:function(){var a=this.component,b=a.subComponents.icon;b.setAttribute("source",this.value),this.value?a.elements.icon.style.display="":a.elements.icon.style.display="none"}},fontSize:{update:function(){var a=this.component,b=a.subComponents.label;b.setAttribute("fontSize",this.value)}},onClick:{type:"js","default":"event(id,true)"},onDown:{type:"js"},onMove:{type:"js"}},init:function(){this.elements=Sfera.Utils.getComponentElements(this.element,!0,this.elements),this.button=new Sfera.UI.Button(this.elements.container,{ondown:this.onDown.bind(this),onup:this.onUp.bind(this),onmove:this.onMove.bind(this)}),this.updateClass()},updateClass:function(){var a=this.getAttribute("color")||"default",b=this.getAttribute("style")||"default",c=this.getAttribute("enabled")?"":" disabled";this.button.setClassName("container"+(b?" style_"+b:"")+(a?" color_"+a:""))+c,this.button.enable(!c)},onDown:function(){var a=this.getAttribute("onDown");Sfera.Custom.exec(a,this.id)},onMove:function(){var a=this.getAttribute("onMove");Sfera.Custom.exec(a,this.id)},onUp:function(){var a=this.getAttribute("onClick");Sfera.Custom.exec(a,this.id)}});